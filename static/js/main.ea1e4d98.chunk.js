(this.webpackJsonpkakao_ocr=this.webpackJsonpkakao_ocr||[]).push([[0],{19:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),r=n(13),c=n.n(r),o=(n(19),n(3)),s=n(14),l=n.n(s),u=(n(38),n(1));var d=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),c=Object(o.a)(r,2),s=c[0],d=c[1],h=Object(a.useState)(null),f=Object(o.a)(h,2),g=f[0],p=f[1];function b(e,t){var n=document.createElement("canvas"),a=e.width,i=e.height,r=t.size,c=Math.ceil(Math.sqrt(r/102400,2));return a=e.width/c,i=e.height/c,n.width=a,n.height=i,n.getContext("2d").drawImage(e,0,0,a,i),function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),i=new Uint8Array(a),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return new Blob([a],{type:n})}(n.toDataURL("image/png"))}return Object(u.jsxs)(u.Fragment,{children:[n&&Object(u.jsx)("div",{className:"imageContainer",children:Object(u.jsx)("img",{src:s,alt:"snap",style:{width:"100%"}})}),n&&Object(u.jsx)("button",{onClick:function(){var e=new FormData;e.append("image",n),l.a.post("https://dapi.kakao.com/v2/vision/text/ocr",e,{headers:{Authorization:"KakaoAK e2e76efe2b926e912bf4d8ed8879f5f2","Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),p(e.data.result.map((function(e){return e.recognition_words[0]})))})).catch((function(e){p(e.response.statusText),console.log(e.response)}))},children:"Detect"}),Object(u.jsx)("input",{accept:"image/*",type:"file",capture:"environment",onChange:function(e){return function(e){if(e.files&&0!==e.files.length){var t=e.files[0];if(t.size>2e6){var n=new FileReader;n.readAsDataURL(t),n.onload=function(e){var a=new Image;a.src=n.result,a.onload=function(){var e=b(a,t);i(e)}}}else i(t);var a=URL.createObjectURL(t);d(a)}}(e.target)}}),Object(u.jsx)("div",{children:g})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(d,{})}),document.getElementById("root")),h()}},[[40,1,2]]]);
//# sourceMappingURL=main.ea1e4d98.chunk.js.map